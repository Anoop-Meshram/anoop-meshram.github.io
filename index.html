<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personalized Greeting</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #222;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      transition: background 1s ease;
    }
    h1 { font-size: 2.2rem; margin-bottom: 10px; }
    h2 { font-size: 1.5rem; margin: 5px 0; }
    p { font-size: 1.1rem; margin: 8px 0; }
    .time { font-weight: bold; color: #1e3a8a; }
    .footer { margin-top: 25px; font-size: 1rem; color: #444; }
  </style>
</head>
<body>
  <div>
    <h1 id="greeting">Hi Dear!</h1>
    <h2 id="message">Welcome!</h2>
    <p id="time"></p>
    <p id="location">Fetching your location...</p>
    <p class="footer">Thanks for visiting ❤️</p>
  </div>

  <script>
    const messageEl = document.getElementById('message');
    const greetingEl = document.getElementById('greeting');
    const timeEl = document.getElementById('time');
    const locationEl = document.getElementById('location');

    // Different compliments that change every refresh
    const compliments = [
      'You are the most beautiful person in the world! 💖',
      'You have an amazing smile that can light up any room! 😊',
      'You are smart, strong, and stunning! 🌟',
      'Your presence makes everything better! 💫',
      'You are unique and truly one of a kind! 🌼',
      'Your kindness makes the world brighter! 🌞',
      'You are incredible just the way you are! 🌹'
    ];

    const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
    messageEl.textContent = randomCompliment;

    // Generate a random background color each refresh
    function randomBg() {
      const colors = [
        'linear-gradient(135deg, #ff9a9e, #fad0c4)',
        'linear-gradient(135deg, #a1c4fd, #c2e9fb)',
        'linear-gradient(135deg, #fbc2eb, #a6c1ee)',
        'linear-gradient(135deg, #84fab0, #8fd3f4)',
        'linear-gradient(135deg, #fccb90, #d57eeb)',
        'linear-gradient(135deg, #f6d365, #fda085)',
        'linear-gradient(135deg, #96e6a1, #d4fc79)'
      ];
      document.body.style.background = colors[Math.floor(Math.random() * colors.length)];
    }

    randomBg();

    // Get user's local time greeting
    function updateTimeAndGreeting() {
      const now = new Date();
      const hour = now.getHours();
      let greeting = '';
      if (hour < 12) greeting = 'Good Morning ☀️';
      else if (hour < 17) greeting = 'Good Afternoon 🌤️';
      else if (hour < 21) greeting = 'Good Evening 🌆';
      else greeting = 'Good Night 🌙';
      greetingEl.textContent = `Hi Dear, ${greeting}`;
      timeEl.textContent = 'Local Time: ' + now.toLocaleTimeString();
    }

    updateTimeAndGreeting();
    setInterval(updateTimeAndGreeting, 1000);

    // Get user's location (city, country)
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(async (position) => {
        const { latitude, longitude } = position.coords;
        try {
          const response = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=en`);
          const data = await response.json();
          const city = data.city || data.locality || 'your area';
          const country = data.countryName || '';
          locationEl.textContent = `You're visiting from ${city}, ${country}.`;
        } catch {
          locationEl.textContent = 'Unable to fetch your location.';
        }
      }, () => {
        locationEl.textContent = 'Location access denied. Showing default time.';
      });
    } else {
      locationEl.textContent = 'Geolocation not supported by your browser.';
    }
  </script>
</body>
</html>
