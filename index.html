<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Totally Serious Update â€” Do Not Close</title>
  <style>
    :root{--bg:#0f1724;--accent:#06b6d4;--muted:#94a3b8}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(180deg,#071029 0%, #0f1724 60%);color:#e6eef6;display:flex;align-items:center;justify-content:center}

    .card{width:880px;max-width:94%;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.04);padding:28px;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.6)}

    h1{margin:0 0 8px;font-size:20px;letter-spacing:-0.02em}
    p.lead{margin:0 0 18px;color:var(--muted)}

    .controls{display:flex;gap:12px}
    button{background:var(--accent);border:0;padding:10px 14px;border-radius:8px;color:#062023;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(6,182,212,0.12)}
    button.ghost{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04);font-weight:600}

    .preview{margin-top:18px;display:grid;grid-template-columns:1fr 160px;gap:18px}
    .screen{background:#071426;border-radius:8px;padding:18px;color:#dff6fb;min-height:140px;display:flex;flex-direction:column;align-items:center;justify-content:center}
    .side{background:rgba(255,255,255,0.02);border-radius:8px;padding:12px;font-size:13px;color:var(--muted)}

    /* full-screen prank overlay */
    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 20% 20%, rgba(0,0,0,0.6), rgba(2,6,23,0.95));backdrop-filter:blur(2px);z-index:1000;visibility:hidden;opacity:0;transition:opacity .25s ease, visibility .25s}
    .overlay.show{visibility:visible;opacity:1}
    .overlay .panel{width:720px;max-width:95%;background:#071026;padding:26px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);text-align:center}
    .panel h2{margin:0 0 8px}
    .panel p{margin:0 0 18px}

    /* confetti */
    .confetti{position:fixed;inset:0;pointer-events:none;z-index:1100}
    .confetti-piece{position:absolute;width:12px;height:20px;opacity:0;transform-origin:center;}

    /* playful cursor follower */
    .follower{position:fixed;pointer-events:none;width:56px;height:56px;border-radius:999px;background:linear-gradient(135deg,#ffd166,#ff6b6b);display:flex;align-items:center;justify-content:center;font-size:28px;transform:translate(-50%,-50%) scale(0.9);transition:transform .08s linear;z-index:1200}

    footer{margin-top:16px;color:var(--muted);font-size:13px;text-align:center}
  </style>
</head>
<body>
  <div class="card" role="main">
    <h1>Critical Browser Update</h1>
    <p class="lead">Your browser needs an <strong>urgent</strong> update to display this page correctly. (Trust us.)</p>

    <div class="controls">
      <button id="start-btn">Install Update</button>
      <button class="ghost" id="preview-btn">Preview what's inside</button>
    </div>

    <div class="preview" aria-hidden="false">
      <div class="screen" id="screen">
        <strong style="font-size:18px">Update Status</strong>
        <div id="status" style="margin-top:12px;color:var(--muted)">Idle â€” waiting for user action</div>
      </div>
      <div class="side">
        <strong>What happens</strong>
        <ul style="padding-left:18px;margin:10px 0 0 0;color:var(--muted)">
          <li>Nice animation</li>
          <li>A little surprise</li>
          <li>Everything is completely harmless</li>
        </ul>
      </div>
    </div>

    <footer>Tip: this prank is safe â€” it only uses HTML, CSS & JavaScript in your browser. No files are downloaded.</footer>
  </div>

  <!-- overlay triggered by the prank -->
  <div id="overlay" class="overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="panel">
      <h2 id="overlay-title">Installing updateâ€¦</h2>
      <p id="overlay-sub">Please do not close this window.</p>
      <div id="progress" style="height:14px;background:rgba(255,255,255,0.03);border-radius:8px;margin:18px 0;overflow:hidden">
        <div id="bar" style="height:100%;width:0;background:linear-gradient(90deg,#06b6d4,#60a5fa);transition:width 0.2s"></div>
      </div>
      <div style="display:flex;gap:10px;justify-content:center">
        <button id="finish-btn" style="display:none">Finish</button>
        <button class="ghost" id="close-btn">Cancel (restore)</button>
      </div>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>
  <div class="follower" id="follower" aria-hidden="true">ðŸŽ‰</div>

  <script>
    // small utility
    const $ = sel => document.querySelector(sel);

    const startBtn = $('#start-btn');
    const previewBtn = $('#preview-btn');
    const overlay = $('#overlay');
    const status = $('#status');
    const bar = $('#bar');
    const finishBtn = $('#finish-btn');
    const closeBtn = $('#close-btn');
    const confettiRoot = $('#confetti');
    const follower = $('#follower');

    let running = false;

    function random(min,max){return Math.random()*(max-min)+min}

    function spawnConfetti(count=80){
      confettiRoot.innerHTML='';
      for(let i=0;i<count;i++){
        const el = document.createElement('div');
        el.className='confetti-piece';
        el.style.left = random(0,100)+'%';
        el.style.top = '-10%';
        el.style.background = `hsl(${Math.floor(random(0,360))}deg 90% 60%)`;
        el.style.transform = `rotate(${random(0,360)}deg)`;
        el.style.opacity = random(0.8,1);
        const dur = random(2000,4200);
        el.animate([
          {transform: `translateY(0) rotate(${random(0,360)}deg)`, opacity:1},
          {transform: `translateY(120vh) rotate(${random(360,720)}deg)`, opacity:0.85}
        ],{duration:dur, easing:'cubic-bezier(.2,.8,.2,1)'});
        confettiRoot.appendChild(el);
      }
      // remove after animation
      setTimeout(()=>confettiRoot.innerHTML=' ',4500);
    }

    // playful sound using WebAudio
    function toneSequence(){
      try{
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const now = ctx.currentTime;
        const freqs = [660,740,880,990,880];
        freqs.forEach((f,i)=>{
          const o = ctx.createOscillator();
          const g = ctx.createGain();
          o.type='sine'; o.frequency.value = f;
          g.gain.value = 0.02;
          o.connect(g); g.connect(ctx.destination);
          o.start(now + i*0.08);
          o.stop(now + i*0.08 + 0.12);
        });
      }catch(e){/* ignore */}
    }

    function showOverlay(){
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
      status.textContent = 'Installing update â€” please wait';
      let pct = 0;
      bar.style.width = '0%';
      running = true;
      const iv = setInterval(()=>{
        pct += Math.floor(random(4,12));
        if(pct>=100){pct=100;bar.style.width='100%';clearInterval(iv);
          // short dramatic pause then reveal
          setTimeout(()=>{
            $('#overlay-title').textContent = 'All done!';
            $('#overlay-sub').textContent = 'Thanks for updating. One last step remains.';
            finishBtn.style.display = 'inline-block';
            spawnConfetti(120);
            toneSequence();
          },900);
        } else {
          bar.style.width = pct + '%';
          // small pop
          if(Math.random()<0.3) toneSequence();
        }
      },420);
    }

    function hideOverlay(){
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
      status.textContent = 'Idle â€” waiting for user action';
      bar.style.width = '0%';
      finishBtn.style.display='none';
      running=false;
    }

    startBtn.addEventListener('click',()=>{
      if(running) return;
      showOverlay();
    });

    previewBtn.addEventListener('click',()=>{
      alert('Preview mode: nothing dangerous here â€” just a harmless prank!');
    });

    closeBtn.addEventListener('click',hideOverlay);

    finishBtn.addEventListener('click',()=>{
      // reveal the surprise
      $('#overlay-title').textContent = 'ðŸŽ‰ You got pranked!';
      $('#overlay-sub').textContent = 'All in good fun â€” no data was collected.';
      spawnConfetti(200);
      // make the on-screen emoji dance
      const screen = document.getElementById('screen');
      screen.innerHTML = `<div style="font-size:44px">ðŸ¥³</div><div style="margin-top:10px;color:var(--muted)">Share the laugh â€” or press restore</div>`;
      finishBtn.style.display='none';
      closeBtn.textContent = 'Restore page';
    });

    // playful cursor follower
    window.addEventListener('pointermove', e=>{
      follower.style.left = e.clientX + 'px';
      follower.style.top = e.clientY + 'px';
      follower.style.transform = 'translate(-50%,-50%) scale(1)';
      // hide quickly after a while
      clearTimeout(follower._t);
      follower._t = setTimeout(()=>{ follower.style.transform='translate(-50%,-50%) scale(0.9)'; },1200);
    });

    // keyboard safety: pressing Escape restores everything
    window.addEventListener('keydown', e=>{
      if(e.key==='Escape') hideOverlay();
    });

    // safety note in console so anyone inspecting sees it's harmless
    console.log('PRANK: This page is a harmless client-side prank â€” no data leaves your browser.');
  </script>
</body>
</html>
